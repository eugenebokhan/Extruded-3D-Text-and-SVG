//
//  Submesh + Textures.swift
//  Extruded 3D Text & SVG
//
//  Created by Eugene Bokhan on 28/10/2018.
//  Copyright Â© 2018 Eugene Bokhan. All rights reserved.
//

import MetalKit

extension Submesh: Texturable {}

extension Submesh.Textures {
    init(material: MDLMaterial?) {
        func property(with semantic: MDLMaterialSemantic) -> MTLTexture? {
            guard let property = material?.property(with: semantic),
                property.type == .string,
                let filename = property.stringValue,
                let texture = try? Submesh.loadTexture(imageName: filename) else {
                    return nil
            }
            return texture
        }
        baseColor = property(with: .baseColor)
    }
}

